<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/templates/template-public.xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
	<ui:define name="head">

	</ui:define>
	<ui:define name="cuerpo">

		<p:layout style="min-width:400px;min-height:200px;">

			<p:layoutUnit position="center">
				<h:form>
					<p:messages id="messages" showDetail="true" autoUpdate="true"
						closable="true" />

					<p:commandButton value="Info"
						rendered="${!empty facesContext.messageList}" />
				</h:form>

				<h:form>
				<p:inputText value="#{viajes.numRow}"></p:inputText>
				<p:commandButton value="Editar numero filas"> <f:ajax render="@form" /> </p:commandButton>
			
					<p:dataTable id="viajesTable" widgetVar="viajesTable"
						value="#{viajes.viajesActivos}" var="travel" paginator="true"
						paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						rows="#{viajes.numRow}" filteredValue="#{viajes.filterBy}">
						<f:facet name="header">
							<p:outputPanel>
								<h:outputText value="Search all fields:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('viajesTable').filter()" style="width:150px"
									placeholder="Enter keyword" />
							</p:outputPanel>
						</f:facet>

						<p:column headerText="ID viaje" sortBy="#{travel.id}">
							<h:outputText value="#{travel.id}" ></h:outputText>
						</p:column>

						<p:column headerText="Origen" filterStyle="display:none"
							filterBy="#{travel.departure.city}" sortBy="#{travel.departure.city}">
							<h:outputText value="#{travel.departure.city}"></h:outputText>
						</p:column>

						<p:column headerText="Destino"
							filterBy="#{travel.destination.city}" filterStyle="display:none"
							sortBy="#{travel.destination.city}">
							
							<h:outputText value="#{travel.destination.city}" 
							></h:outputText>
						</p:column>

						<p:column headerText="Plazas libres" sortBy="#{travel.availablePax}">
							<h:outputText value="#{travel.availablePax}"></h:outputText>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:layoutUnit>
		</p:layout>

	</ui:define>
</ui:composition>